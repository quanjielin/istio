---
title: google.iam.credentials.v1
layout: protoc-gen-docs
generator: protoc-gen-docs
number_of_entries: 4
---
<h2 id="Services">Services</h2>
<h3 id="CertificateService">CertificateService</h3>
<section>
<p>A service that exposes OAuth2.0 spec APIs for cloud service accounts.</p>

<pre id="CertificateService-GetFederatedToken"><code class="language-proto">rpc GetFederatedToken(GetFederatedTokenRequest) returns (google.api.HttpBody)
</code></pre>
<p>Exchanges a third-party issued Json Web Token for an OAuth2.0 access token
belongs to a Google Cloud service account.
(&ndash; The API is going to be exposed under
https://securetoken.googleapis.com/v1/identitybindingtoken as a MVP.
The returned HttpBody contains either GetFederatedTokenResponse or
OAuth2Error.</p>

</section>
<h2 id="Types">Types</h2>
<h3 id="GetFederatedTokenRequest">GetFederatedTokenRequest</h3>
<section>
<table class="message-fields">
<thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr id="GetFederatedTokenRequest-grant_type">
<td><code>grantType</code></td>
<td><code>string</code></td>
<td>
<p>REQUIRED. Indicating that a token change is being performed.
The value must be &lsquo;urn:ietf:params:oauth:grant-type:token-exchange&rsquo;.</p>

</td>
</tr>
<tr id="GetFederatedTokenRequest-audience">
<td><code>audience</code></td>
<td><code>string</code></td>
<td>
<p>REQUIRED. Resource where the client intends to use the requested security
token. The value should be the email or unique ID of a Google service
account.</p>

</td>
</tr>
<tr id="GetFederatedTokenRequest-scope">
<td><code>scope</code></td>
<td><code>string[]</code></td>
<td>
<p>REQUIRED. Desired OAuth2 scopes that will be included in the resulting
access token.</p>

</td>
</tr>
<tr id="GetFederatedTokenRequest-requested_token_type">
<td><code>requestedTokenType</code></td>
<td><code>string</code></td>
<td>
<p>REQUIRED. Identifier for the type of the requested security token.
The only currently supported value is
&lsquo;urn:ietf:params:oauth:token-type:access_token&rsquo;</p>

</td>
</tr>
<tr id="GetFederatedTokenRequest-subject_token">
<td><code>subjectToken</code></td>
<td><code>string</code></td>
<td>
<p>REQUIRED. Input token.
Must be in JWT format according to RFC7523 and must have
key ID and algorithm specified in the header.
Supported signing algorithms: RS256.
Mandatory payload fields (along the lines of RFC 7523, section 3):
- iss: issuer of the token. Must provide a discovery document at
       $iss/.well-known/openid-configuration . The document needs to be
       formatted according to section 4.2 of the OpenID Connect Discovery
       1.0 specification.
- iat: Issue time in seconds since epoch. Must be in the past.
- exp: Expiration time in seconds since epoch. Must be less than 48 hours
       after iat. We recommend to create tokens that last shorter than 6
       hours to improve security unless business reasons mandate longer
       expiration times. Shorter token lifetimes are generally more secure
       since tokens that have been exfiltrated by attackers can be used for
       a shorter time.
- sub: JWT subject, identity asserted in the JWT.
- aud: Configured in the mapper policy. By default the service account
       unique ID.</p>

<p>Claims from the incoming token can be transferred into the output token
according to the mapper configuration. The outgoing claim size is limited.
Outgoing claims size must be less than 4kB serialized as JSON without
whitespace.</p>

<p>Example header:
&lbrace;
  &ldquo;alg&rdquo;: &ldquo;RS256&rdquo;,
  &ldquo;kid&rdquo;: &ldquo;us-east-11&rdquo;
}
Example payload:
&lbrace;
  &ldquo;iss&rdquo;: &ldquo;https://accounts.google.com&rdquo;,
  &ldquo;iat&rdquo;: 1517963104,
  &ldquo;exp&rdquo;: 1517966704,
  &ldquo;aud&rdquo;: &ldquo;113475438248934895348&rdquo;,
  &ldquo;sub&rdquo;: &ldquo;113475438248934895348&rdquo;,
  &ldquo;my<em>claims&rdquo;: &lbrace;
    &ldquo;additional</em>claim&rdquo;: &ldquo;value&rdquo;
  }
}</p>

</td>
</tr>
<tr id="GetFederatedTokenRequest-subject_token_type">
<td><code>subjectTokenType</code></td>
<td><code>string</code></td>
<td>
<p>REQUIRED. An identifier that indicates the type of the security token in
the &lsquo;subject_token&rsquo; parameter. The only currently supported value is
&lsquo;urn:ietf:params:oauth:token-type:jwt&rsquo;.</p>

</td>
</tr>
</tbody>
</table>
</section>
<h3 id="GetFederatedTokenResponse">GetFederatedTokenResponse</h3>
<section>
<p>Response message for GetFederatedToken API.</p>

<table class="message-fields">
<thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr id="GetFederatedTokenResponse-access_token">
<td><code>accessToken</code></td>
<td><code>string</code></td>
<td>
<p>The Google service account access token in the requested format.
Currently, the token is only going to be an OAuth2.0 access token.</p>

</td>
</tr>
<tr id="GetFederatedTokenResponse-issued_token_type">
<td><code>issuedTokenType</code></td>
<td><code>string</code></td>
<td>
<p>Same value as &lsquo;requested<em>token</em>type&rsquo; parameter in request.</p>

</td>
</tr>
<tr id="GetFederatedTokenResponse-token_type">
<td><code>tokenType</code></td>
<td><code>string</code></td>
<td>
<p>Type of token by usage as authenticator. The only currently supported value
is &ldquo;Bearer&rdquo;.</p>

</td>
</tr>
<tr id="GetFederatedTokenResponse-expires_in">
<td><code>expiresIn</code></td>
<td><code>int64</code></td>
<td>
<p>Expiration time in seconds, measured from the time of issuance.</p>

</td>
</tr>
</tbody>
</table>
</section>
<h3 id="OAuth2Error">OAuth2Error</h3>
<section>
<p>Custom error response for GetFederatedToken API. The error format is defined
by the OAuth2.0 spec (RFC 6749).</p>

<table class="message-fields">
<thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr id="OAuth2Error-error">
<td><code>error</code></td>
<td><code>string</code></td>
<td>
<p>Required. Constant that indicates which error occurred.</p>

</td>
</tr>
<tr id="OAuth2Error-error_description">
<td><code>errorDescription</code></td>
<td><code>string</code></td>
<td>
<p>Human-readable description of the error.</p>

</td>
</tr>
</tbody>
</table>
</section>
